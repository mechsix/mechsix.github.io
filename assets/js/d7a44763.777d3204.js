"use strict";(self.webpackChunkmechsix_github_io_source=self.webpackChunkmechsix_github_io_source||[]).push([[38633],{49279:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>o,contentTitle:()=>c,default:()=>l,frontMatter:()=>a,metadata:()=>n,toc:()=>p});const n=JSON.parse('{"id":"scripts/fbcid-trim","title":"fbcid-trim","description":"Overivew","source":"@site/docs/scripts/fbcid-trim.md","sourceDirName":"scripts","slug":"/scripts/fbcid-trim","permalink":"/docs/scripts/fbcid-trim","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"Fbcid Trim"},"sidebar":"docSidebar","previous":{"title":"Crate & Module","permalink":"/docs/rust/crate_and_module"},"next":{"title":"Env Setup","permalink":"/docs/typescript/env-setup"}}');var s=t(74848),i=t(28453);const a={sidebar_label:"Fbcid Trim"},c=void 0,o={},p=[{value:"Overivew",id:"overivew",level:2},{value:"Usage",id:"usage",level:2}];function u(e){const r={code:"code",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.h2,{id:"overivew",children:"Overivew"}),"\n",(0,s.jsx)(r.p,{children:"Python script to trim fbcid from FB copied URL"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"import sys\nimport fileinput\nfrom urllib.parse import urlparse, urlunparse, parse_qs, urlencode\n\n\nif __name__ == '__main__':\n    for line in fileinput.input():\n\n        target_raw = parse_qs(urlparse(line).query).get('u', [])\n        if not target_raw:\n            sys.exit()\n\n        target = urlparse(target_raw.pop())\n        parts = list(target)\n\n        query = parse_qs(target.query)\n\n        if query:\n            for fb_key in ('utm_campaign', 'utm_source', 'fbclid', 'hsa_src', 'hsa_cam', 'utm_medium', 'hsa_acc', 'hsa_net', 'hsa_grp', 'hsa_ad', 'hsa_ver'):\n                query.pop(fb_key, None)\n\n        parts[4] = urlencode(query)\n        print(urlunparse(parts))\n\n"})}),"\n",(0,s.jsx)(r.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-shell",children:"pbpaste | trim_fbcid | pbcopy\n"})})]})}function l(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},28453:(e,r,t)=>{t.d(r,{R:()=>a,x:()=>c});var n=t(96540);const s={},i=n.createContext(s);function a(e){const r=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(i.Provider,{value:r},e.children)}}}]);