"use strict";(self.webpackChunkmechsix_github_io_source=self.webpackChunkmechsix_github_io_source||[]).push([[39235],{45501:(e,n,c)=>{c.r(n),c.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"python/functools","title":"Functools","description":"lru_cache","source":"@site/docs/python/functools.md","sourceDirName":"python","slug":"/python/functools","permalink":"/docs/python/functools","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Functools"},"sidebar":"docSidebar","previous":{"title":"useState & useMemo","permalink":"/docs/react/use-state"},"next":{"title":"Intro","permalink":"/docs/rust/intro"}}');var i=c(74848),r=c(28453);const s={title:"Functools"},l=void 0,o={},a=[{value:"lru_cache",id:"lru_cache",level:2},{value:"Example: Fibonacci\u6578\u5217",id:"example-fibonacci\u6578\u5217",level:3}];function h(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"lru_cache",children:"lru_cache"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u505a",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Cache_replacement_policies#Least_recently_used_(LRU)",children:"LRU"})," cache\u7684\u88dd\u98fe\u5668"]}),"\n",(0,i.jsx)(n.li,{children:"\u5bebDynamic Programming\u7684\u5229\u5668"}),"\n",(0,i.jsxs)(n.li,{children:["\u88ab\u88dd\u98fe\u7684function\uff0c\u5728\u8f38\u5165\u76f8\u540c\u7684params\u6642\u5b83\u7684return value\u6703\u88abcache\u8d77\u4f86","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4f7f\u7528dict\u4f5c\u70bacache\uff0c\u6240\u4ee5parameter\u7528\u7684value\u9700\u8981\u80fd\u88abhash"}),"\n",(0,i.jsxs)(n.li,{children:["\u4f8b\u5982",(0,i.jsx)(n.code,{children:"5"}),"\u8ddf",(0,i.jsx)(n.code,{children:"5.0"}),"\u7684hash\u503c\u5728python\u5167\u662f\u4e00\u6a23\u7684\uff0c\u5982\u679c\u88ab\u88dd\u98fe\u7684function\u5728\u9019\u5169\u8005\u8f38\u5165\u6703\u6709\u4e0d\u540c\u7684\u8f38\u51fa\uff0c\u90a3\u5c31\u4e0d\u80fd\u7528lru_cache\u7372\u5f97\u6539\u5584"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\u53ef\u9078\u7528\u7684\u5169\u500b\u53c3\u6578","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"maxsize"}),"\uff1a\u9810\u8a2d\u662f128\uff0c\u53ea\u6703cache\u6700\u5f8c\u51fa\u73fe\u7684128\u500b\u7d50\u679c\u3002\u8a2d\u70ba",(0,i.jsx)(n.code,{children:"None"}),"\u6703\u8b93cache\u7684size\u4e0d\u4f5c\u9650\u5236"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"example-fibonacci\u6578\u5217",children:"Example: Fibonacci\u6578\u5217"}),"\n",(0,i.jsx)(n.p,{children:"\u4e0d\u4f7f\u7528lru_cache\u7684DP\u7248\u672c\uff0ccache\u8981\u81ea\u5df1\u5be6\u4f5c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"cache = {}\ndef fib(n):\n    if n in cache:\n        return cache[n]\n    if n < 2:\n        return n\n    cache[n] = fib(n-1) + fib(n-2)\n    return cache[n]\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u4f7f\u7528lru_cache\u7684\u7248\u672c\uff0ccache\u7684\u5be6\u4f5c\u88ab\u96b1\u85cf\u8d77\u4f86\u4e86"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"@lru_cache(maxsize=None)\ndef fib(n):\n    if n < 2:\n        return n\n    return fib(n-1) + fib(n-2)\n"})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},28453:(e,n,c)=>{c.d(n,{R:()=>s,x:()=>l});var t=c(96540);const i={},r=t.createContext(i);function s(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);